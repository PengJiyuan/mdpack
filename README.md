# mdpack
markdown bundler. This README is generated by mdpack. see [readme](https://github.com/PengJiyuan/mdpack/tree/master/readme).

## Install

```bash
npm i mdpack -g
```

## Usage

* **CLI**

```bash
mdpack -e index.md -o dist/output.md
```

* **Config**

```javascript
// mdpack.config.js
const path = require('path');
const mdpack = require('mdpack');

module.exports = {
  entry: 'index.md',
  output: {
    path: path.resolve(__dirname, 'dist'),
    name: 'mybundle'
  },
  format: 'all',
  resources: {
    markdownCss: 'https://unpkg.com/github-markdown-css@2.10.0/github-markdown.css',
    highlightCss: 'https://unpkg.com/highlight.js@9.12.0/styles/github-gist.css'
  },
  template: path.resolve(__dirname, 'mytemplate.html'),
  plugins: [
    // minify html output
    new mdpack.plugins.mdpackPluginHtmlMinifier(),
    // add banner and footer to bundled markdown and html.
    new mdpack.plugins.mdpackPluginBannerFooter({
      banner: '# Banner',
      footer: '# Footer'
    })
  ]
};
```

```bash
mdpack -c mdpack.config.js
```

* **NodeJS**

```javascript
const mdpack = require('mdpack');
const config = {
  entry: 'index.md',
  ...
};
const output = mdpack(config);

// output = {
//   md: 'xxxxxx', // bundled markdown string.
//   pureHtml: 'xxxxxx', // bundled html string without wrapper.
//   html: 'xxxxxx' // bundled html with styles and javascript wrapper.
// }
```

## Syntax

#### Import

You can import **markdown** file or even **html** file.

> Attention: double quotes.

```markdown
@@import "path/xx.md"

@@import "path/xx.html"
```

#### Ignore

You can insert `<!--mdpack-ignore-->` in markdown file, usually at the top of the file.
Then mdpack will just output `@@import "xx.md"` as a string.

## Example

index.md

```markdown
# Title

@@import "./a.md"

@@import "./b.html"
```

a.md

```markdown
## SubTitle

BBBBBBBBBB
```

b.html

```html
<h1 class="mine">This is my import!</h1>
```

```bash
mdpack -e index.md -o output.md -f all
```

Will generate `output.md` like that:

```markdown
# Title

## SubTitle

BBBBBBBBBB

<h1 class="mine">This is my import!</h1>
```

Will generate `output.html` like that:

```html
<html>
  <head>
    <link href="https://unpkg.com/github-markdown-css@2.10.0/github-markdown.css" rel="stylesheet" />
    <link href="https://unpkg.com/highlight.js@9.12.0/styles/github.css" rel="stylesheet" />
    <style>
      .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
      }

      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="markdown-body">
      <h1 id="title">Title</h1>
<h2 id="subtitle">SubTitle</h2>
<p>BBBBBBBBBB</p>
<h1 class="mine">This is my import!</h1>
    </div>
  </body>
</html>
```

## Options

#### -e, --entry

`optional`

Entry of mdpack, a markdown file. (default: `index.md`)

#### -p, --path

Output path of bundled markdown file.

#### -n, --name

`optional`

Output name of bundled markdown file. (default: `bundle`)

#### -f, --format [md | html | all]

`optional`

Format type of bundle output. (default: `md`)

#### --mc, --markdownCss [markdownCss]

`optional`

Html template markdown css file, if not specified, mdpack will use a default cdn css.

#### --hc, --highlightCss [highlightCss]

`optional`

Html template highlight css file, if not specified, mdpack will use a default cdn css.

#### -t, --template [template]

`optional`

Template html file. If you specify a template, this template should contains these keywords:

* `<% markdownCss %>`
* `<% highlightCss %>`
* `<% content %>`

## LICENSE

[MIT](./LICENSE) Â© PengJiyuan

<html>
  <head>
    <link href="https://unpkg.com/github-markdown-css@2.10.0/github-markdown.css" rel="stylesheet" />
    <link href="https://unpkg.com/highlight.js@9.12.0/styles/github.css" rel="stylesheet" />
    <style>
      .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
      }

      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="markdown-body">
      <p><a href="https://travis-ci.org/PengJiyuan/mdpack"><img src="https://img.shields.io/travis/PengJiyuan/mdpack.svg" alt="Travis"></a>
<a href="https://www.npmjs.com/package/mdpack"><img src="https://img.shields.io/npm/v/mdpack.svg" alt="npm"></a>
<a href="https://www.npmjs.com/package/mdpack"><img src="https://img.shields.io/npm/l/mdpack.svg" alt="npm"></a></p>
<p><img src="./.github/logo.png" alt="Logo"></p>
<h1 id="mdpack">mdpack</h1>
<p>markdown bundler, import markdown and html like javascript.</p>
<p>This README is generated by mdpack. see <a href="https://github.com/PengJiyuan/mdpack/tree/master/readme">readme</a>.</p>
<h2 id="install">Install</h2>
<pre><code class="language-bash">npm <span class="hljs-selector-tag">i</span> mdpack -g</code></pre>
<h2 id="usage">Usage</h2>
<ul>
<li><strong>CLI</strong></li>
</ul>
<pre><code class="language-bash">mdpack -e index<span class="hljs-selector-class">.md</span> -<span class="hljs-selector-tag">p</span> dist</code></pre>
<ul>
<li><strong>Config</strong></li>
</ul>
<pre><code class="language-javascript">// mdpack.<span class="hljs-built_in">config</span>.js
const <span class="hljs-built_in">path</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
const mdpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mdpack'</span>);

module.exports = {
  entry: <span class="hljs-string">'index.md'</span>,
  <span class="hljs-built_in">output</span>: {
    <span class="hljs-built_in">path</span>: <span class="hljs-built_in">path</span>.resolve(__dirname, <span class="hljs-string">'dist'</span>),
    name: <span class="hljs-string">'mybundle'</span>
  },
  <span class="hljs-built_in">format</span>: <span class="hljs-string">'all'</span>,
  resources: {
    markdownCss: <span class="hljs-string">'https://unpkg.com/github-markdown-css@2.10.0/github-markdown.css'</span>,
    highlightCss: <span class="hljs-string">'https://unpkg.com/highlight.js@9.12.0/styles/github-gist.css'</span>
  },
  template: <span class="hljs-built_in">path</span>.resolve(__dirname, <span class="hljs-string">'mytemplate.html'</span>),
  plugins: [
    // minify html <span class="hljs-built_in">output</span>
    new mdpack.plugins.mdpackPluginHtmlMinifier(),
    // add banner <span class="hljs-keyword">and</span> footer to bundled markdown <span class="hljs-keyword">and</span> html.
    new mdpack.plugins.mdpackPluginBannerFooter({
      banner: <span class="hljs-string">'# Banner'</span>,
      footer: <span class="hljs-string">'# Footer'</span>
    })
  ]
};</code></pre>
<pre><code class="language-bash">mdpack -c mdpack<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.js</span></code></pre>
<ul>
<li><strong>NodeJS</strong></li>
</ul>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> mdpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mdpack'</span>);
<span class="hljs-keyword">const</span> config = {
  entry: <span class="hljs-string">'index.md'</span>,
  ...
};
<span class="hljs-keyword">const</span> output = mdpack(config);

<span class="hljs-regexp">// output = {
//</span>   md: <span class="hljs-string">'xxxxxx'</span>, <span class="hljs-regexp">// bundled markdown string.
//</span>   pureHtml: <span class="hljs-string">'xxxxxx'</span>, <span class="hljs-regexp">// bundled html string without wrapper.
//</span>   html: <span class="hljs-string">'xxxxxx'</span> <span class="hljs-regexp">// bundled html with styles and javascript wrapper.
//</span> }</code></pre>
<h2 id="syntax">Syntax</h2>
<h4 id="import">Import</h4>
<p>You can import <strong>markdown</strong> file or even <strong>html</strong> file.</p>
<blockquote>
<p>Attention: double quotes.</p>
</blockquote>
<pre><code class="language-markdown">@<span class="hljs-keyword">@import</span> <span class="hljs-string">"path/xx.md"</span>

<span class="hljs-variable">@@import</span> <span class="hljs-string">"path/xx.html"</span></code></pre>
<h4 id="ignore">Ignore</h4>
<p>You can insert <code>&lt;!--mdpack-ignore--&gt;</code> in markdown file, usually at the top of the file.
Then mdpack will just output <code>@@import &quot;xx.md&quot;</code> as a string.</p>
<h2 id="example">Example</h2>
<p>index.md</p>
<pre><code class="language-markdown"><span class="hljs-comment"># Title</span>

@@import <span class="hljs-string">"./a.md"</span>

@@import <span class="hljs-string">"./b.html"</span></code></pre>
<p>a.md</p>
<pre><code class="language-markdown"><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># SubTitle</span></span>

BBBBBBBBBB</code></pre>
<p>b.html</p>
<pre><code class="language-html">&lt;h1 <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"mine"</span>&gt;This is my <span class="hljs-keyword">import</span>!<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></code></pre>
<pre><code class="language-bash">mdpack -e index<span class="hljs-selector-class">.md</span> -<span class="hljs-selector-tag">p</span> . -n output -f all</code></pre>
<p>Will generate <code>output.md</code> like that:</p>
<pre><code class="language-markdown"><span class="hljs-comment"># Title</span>

<span class="hljs-comment">## SubTitle</span>

BBBBBBBBBB

&lt;h1 <span class="hljs-built_in">class</span>=<span class="hljs-string">"mine"</span>&gt;This <span class="hljs-keyword">is</span> <span class="hljs-keyword">my</span> import!&lt;/h1&gt;</code></pre>
<p>Will generate <code>output.html</code> like that:</p>
<pre><code class="language-html"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://unpkg.com/github-markdown-css@2.10.0/github-markdown.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://unpkg.com/highlight.js@9.12.0/styles/github.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-selector-class">.markdown-body</span> {
        <span class="hljs-attribute">box-sizing</span>: border-box;
        <span class="hljs-attribute">min-width</span>: <span class="hljs-number">200px</span>;
        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">980px</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">45px</span>;
      }

      @<span class="hljs-keyword">media</span> (max-width: <span class="hljs-number">767px</span>) {
        <span class="hljs-selector-class">.markdown-body</span> {
          <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
        }
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"markdown-body"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"title"</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"subtitle"</span>&gt;</span>SubTitle<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>BBBBBBBBBB<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mine"</span>&gt;</span>This is my import!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></code></pre>
<h2 id="options">Options</h2>
<h4 id="-c-config">-c, --config</h4>
<p>Specify a config file, usually named <code>mdpack.config.js</code>.</p>
<h4 id="-e-entry">-e, --entry</h4>
<p><code>optional</code></p>
<p>Entry of mdpack, a markdown file. (default: <code>index.md</code>)</p>
<h4 id="-p-path">-p, --path</h4>
<p>Output path of bundled markdown file.</p>
<h4 id="-n-name">-n, --name</h4>
<p><code>optional</code></p>
<p>Output name of bundled markdown file. (default: <code>bundle</code>)</p>
<h4 id="-f-format-md-html-all-">-f, --format [md | html | all]</h4>
<p><code>optional</code></p>
<p>Format type of bundle output. (default: <code>md</code>)</p>
<h4 id="-mc-markdowncss-markdowncss-">--mc, --markdownCss [markdownCss]</h4>
<p><code>optional</code></p>
<p>Html template markdown css file, if not specified, mdpack will use a default cdn css.</p>
<h4 id="-hc-highlightcss-highlightcss-">--hc, --highlightCss [highlightCss]</h4>
<p><code>optional</code></p>
<p>Html template highlight css file, if not specified, mdpack will use a default cdn css.</p>
<h4 id="-t-template-template-">-t, --template [template]</h4>
<p><code>optional</code></p>
<p>Template html file. If you specify a template, this template should contains these keywords:</p>
<ul>
<li><code>&lt;% markdownCss %&gt;</code></li>
<li><code>&lt;% highlightCss %&gt;</code></li>
<li><code>&lt;% content %&gt;</code></li>
</ul>
<h2 id="plugins">Plugins</h2>
<p>Mdpack support plugins, See <a href="./.github/HowToWritePlugin.md">how to write a mdpack plugin?</a></p>
<p>Mdpack also have some plugins inside:</p>
<h3 id="mdpackpluginbannerfooter"><strong>mdpackPluginBannerFooter</strong></h3>
<p>Add a banner at the top of bundled file, or add a footer at the bottom of bundled file.</p>
<p><code>new mdpack.plugins.mdpackPluginBannerFooter(opts)</code></p>
<h4 id="opts-banner-string-">opts.banner {String}</h4>
<h4 id="opts-footer-string-">opts.footer {String}</h4>
<pre><code class="language-javascript">module<span class="hljs-selector-class">.exports</span> = {
  ...,
  plugins: [
    new mdpack<span class="hljs-selector-class">.plugins</span><span class="hljs-selector-class">.mdpackPluginBannerFooter</span>({
      banner: <span class="hljs-string">'# Banner'</span>,
      <span class="hljs-selector-tag">footer</span>: <span class="hljs-string">'## Footer'</span>
    })
  ]
}</code></pre>
<h3 id="mdpackpluginhtmlminifier"><strong>mdpackPluginHtmlMinifier</strong></h3>
<p>Minify bundled html file.</p>
<p><code>new mdpack.plugins.mdpackPluginHtmlMinifier(opts)</code></p>
<p><code>opts</code> is same to <a href="https://github.com/kangax/html-minifier">html-minifier</a></p>
<pre><code class="language-javascript"><span class="hljs-string">module.exports</span> <span class="hljs-string">=</span> <span class="hljs-string">{</span>
  <span class="hljs-string">...,</span>
<span class="hljs-attr">  plugins:</span> <span class="hljs-string">[</span>
    <span class="hljs-string">new</span> <span class="hljs-string">mdpack.plugins.mdpackPluginHtmlMinifier({</span>
<span class="hljs-attr">      removeComments:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span>
<span class="hljs-attr">      removeEmptyElements:</span> <span class="hljs-literal">true</span><span class="hljs-string">,</span>
      <span class="hljs-string">...</span>
    <span class="hljs-string">})</span>
  <span class="hljs-string">]</span>
<span class="hljs-string">}</span></code></pre>
<h2 id="license">LICENSE</h2>
<p><a href="./LICENSE">MIT</a> © PengJiyuan</p>

    </div>
  </body>
</html>
